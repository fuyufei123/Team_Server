<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>DataGrid with Row ContextMenu -- jQUery EasyUI Demo</title>
        <link type="text/css" rel="stylesheet" href="../../themes/bootstrap/easyui.css">
        <link rel="stylesheet" type="text/css" href="../../themes/icon.css">
        <link rel="stylesheet" type="text/css" href="../../extend/themes/icon.css">
        <script type="text/javascript" src="../../jquery.min.js"></script>
        <script type="text/javascript" src="../../jquery.easyui.min.js"></script>
        <script type="text/javascript" src="../../locale/easyui-lang-zh_CN.js"></script>
        <script type="text/javascript" src="../../extend/jquery.easyui.datagrid.extend.js"></script>
        <script type="text/javascript" src="../../extend/jquery.easyui.menu.extend.js"></script>
        <!--<script type="text/javascript" src="../../jquery.easyui.extensions.min.js"></script>-->
        <link rel="stylesheet" type="text/css" href="../../syntaxhighlighter/styles/shCoreDefault.css">
        <script type="text/javascript" src="../../syntaxhighlighter/scripts/shCore.js"></script>
        <script type="text/javascript" src="../../syntaxhighlighter/scripts/shBrushJScript.js"></script>
        <script type="text/javascript" src="../../syntaxhighlighter/scripts/shBrushXml.js"></script>
        <script type="text/javascript">
            SyntaxHighlighter.config.tagName = "textarea";
            SyntaxHighlighter.all();
        </script>
        <script type="text/javascript">
            $(function(){
                $('#datagrid').datagrid({
                    columns:[[
                        {field: 'ck', checkbox: true},
                        {field: 'itemid', width: 80, title: 'Item ID'},
                        {field: 'productid', width: 100, title: 'Product ID'},
                        {field: 'listprice', width: 80, align: 'right', title: 'List Price'},
                        {field: 'unitcost', width: 80, align: 'right', title: 'Unit Cost'},
                        {field: 'attr1', width: 250, title: 'Attribute'},
                        {field: 'status', width: 60, align: 'center', title: 'Status', hidden: true}
                    ]],
                    singleSelect: false,
                    rownumbers: true,
                    title: 'Basic DataGrid',
                    url: '../datagrid/datagrid_data1.json',
                    height: 250,
                    width: 700,
                    customAttr:{
                        rowContextMenu:{
                            isShow: true
                        }
                    }
                });



//                $('#datagrid').datagrid('getRowContextMenu').menu({
//                    onClick: function(item, rowIndex, rowData, target){
//                        alert("id: "+ item.id + ", rowIndex: " + rowIndex + ", rowData: " + rowData);
//                        if(item.text =="删除"){
//                            //返回true，则终止默认行为
//                            return true;
//                        }
//                    }
//                });

//                $('#datagrid').datagrid('getRowContextMenu').menu('addEventListener', {
//                    name: 'onClick',
//                    handler: function(item, rowIndex, rowData, target){
//                        alert("id: "+ item.id + ", rowIndex: " + rowIndex + ", rowData: " + rowData);
//                        if(item.text =="删除"){
//                            //返回true，则终止默认行为
//                            return true;
//                        }
//                    }
//                });
            });
        </script>
    </head>
    <body>
        <!--<h3>替换RowContextMenu默认菜单项行为</h3>-->
        <!--<table id="datagrid"></table>-->




        <div class="easyui-tabs" data-options="fit: true, plain: true">
            <div data-options="title: 'Demo'">
                <h3>替换RowContextMenu默认菜单项行为</h3>
                <table id="datagrid"></table>
            </div>
            <div data-options="title: 'Code'" style="font-size: 14px;">
                <p>javascript:</p>
                <textarea class="brush: js; highlight: [18,19,20,21,22,24,28,29,30,31,32,33,34,35,36]">
                        $(function(){
                            $('#datagrid').datagrid({
                                columns:[[
                                    {field: 'ck', checkbox: true},
                                    {field: 'itemid', width: 80, title: 'Item ID'},
                                    {field: 'productid', width: 100, title: 'Product ID'},
                                    {field: 'listprice', width: 80, align: 'right', title: 'List Price'},
                                    {field: 'unitcost', width: 80, align: 'right', title: 'Unit Cost'},
                                    {field: 'attr1', width: 250, title: 'Attribute'},
                                    {field: 'status', width: 60, align: 'center', title: 'Status', hidden: true}
                                ]],
                                singleSelect: false,
                                rownumbers: true,
                                title: 'Basic DataGrid',
                                url: '../datagrid/datagrid_data1.json',
                                height: 250,
                                width: 700,
                                customAttr:{
                                    rowContextMenu:{
                                        isShow: true
                                    }
                                }
                            });



                            $('#datagrid').datagrid('getRowContextMenu').menu({
                                onClick: function(item, rowIndex, rowData, target){
                                    alert("id: "+ item.id + ", rowIndex: " + rowIndex + ", rowData: " + rowData);
                                    if(item.text =="删除"){
                                        //返回true，则终止默认行为
                                        return true;
                                    }
                                }
                            })
                        });
                </textarea>

                <p>html:</p>
                <textarea class="brush: html;">
                    <body>
                        <h3>替换RowContextMenu默认菜单项行为</h3>
                        <table id="datagrid"></table>
                    </body>
                </textarea>
            </div>
        </div>
    </body>
</html>